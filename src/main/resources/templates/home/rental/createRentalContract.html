<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Rental Contract</title>
    <style>
    </style>
</head>
<body>
<h1>Create Rental Contract</h1>
<form th:action="@{/rentalContracts/submitRentalContract}" method="POST">
    <!-- Customer Selection -->
    <div>
        <label>Customer:</label>
        <div>
            <input type="radio" id="existingCustomer" name="customerOption" value="existing" checked>
            <label for="existingCustomer">Existing Customer</label>

            <select id="customerID" name="customerID">
                <option value="" disabled selected>Select a Customer</option>
                <th:block th:each="customer : ${customers}">
                    <option th:value="${customer.customerID}"
                            th:text="${customer.customerID} + ': ' + ${customer.fname} + ' ' + ${customer.lname}"></option>
                </th:block>
            </select>
        </div>

        <div>
            <input type="radio" id="newCustomer" name="customerOption" value="new">
            <label for="newCustomer">New Customer</label>
        </div>

        <!-- New Customer Fields -->
        <div id="newCustomerFields">
            <label for="fname">First Name:</label>
            <input type="text" id="fname" name="fname">

            <label for="lname">Last Name:</label>
            <input type="text" id="lname" name="lname">

            <label for="email">Email:</label>
            <input type="email" id="email" name="email">

            <label for="phone">Phone:</label>
            <input type="text" id="phone" name="phone">

            <label for="address">Address:</label>
            <input type="text" id="address" name="address">
        </div>
    </div>

    <!-- Car Selection -->
    <div>
        <label for="carID">Select Car:</label>
        <select id="carID" name="carID" required>
            <option value="" disabled selected>Select a Car</option>
            <th:block th:each="car : ${cars}">
                <option th:value="${car.id}" th:text="${car.id} + ': ' + ${car.brand} + ' ' + ${car.model}"></option>
            </th:block>
        </select>
    </div>

    <!-- Rental Information -->
    <div>
        <label for="startDate">Start Date:</label>
        <input type="date" id="startDate" name="startDate" required>
    </div>
    <div>
        <label for="endDate">End Date:</label>
        <input type="date" id="endDate" name="endDate" required>
    </div>
    <div>
        <label for="rentalFee">Fee (DKK):</label>
        <input type="number" id="rentalFee" name="rentalFee" th:value="${selectedCarPrice}" step="0.01" min="0" readonly>
    </div>

    <!-- Submit -->
    <div>
        <button type="submit">Submit Rental Contract</button>
    </div>
</form>
</body>
</html>